"use strict";(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[519],{5519:function(e,r,t){t.r(r),t.d(r,{HttpWeb:function(){return U}});var n=t(7762),a=t(4165),u=t(5861),c=t(3144),o=t(5671),s=t(136),i=t(9388),p=t(6751),f=t(9439),d=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=new FileReader;n.onload=function(){var r=n.result,t=r.substr(r.indexOf(",")+1);e(t)},n.onerror=function(e){return t(e)},n.readAsDataURL(r)})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(e){return encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape)},h=function(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},v=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=l(e),a=l(r),u="; expires=".concat((t.expires||"").replace("expires=","")),c=(t.path||"/").replace("path=","");document.cookie="".concat(n,"=").concat(a||"").concat(u,"; path=").concat(c)},b=function(){var e=[],r={};if(!document.cookie)return e;var t,a=document.cookie.split(";")||[],u=(0,n.Z)(a);try{for(u.s();!(t=u.n()).done;){var c=t.value.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE"),o=(0,f.Z)(c,2),s=o[0],i=o[1];s=h(s).trim(),i=h(i).trim(),r[s]=i}}catch(Z){u.e(Z)}finally{u.f()}for(var p=0,d=Object.entries(r);p<d.length;p++){var l=(0,f.Z)(d[p],2),v=l[0],b=l[1];e.push({key:v,value:b})}return e},Z=function(e){var r,t=b(),a=(0,n.Z)(t);try{for(a.s();!(r=a.n()).done;){var u=r.value;if(u.key===e)return u}}catch(c){a.e(c)}finally{a.f()}return{key:e,value:""}},k=function(){var e,r=document.cookie.split(";")||[],t=(0,n.Z)(r);try{for(t.s();!(e=t.n()).done;){var a=e.value;document.cookie=a.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat((new Date).toUTCString(),";path=/"))}}catch(u){t.e(u)}finally{t.f()}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object.keys(e),t=Object.keys(e).map((function(e){return e.toLocaleLowerCase()})),n=t.reduce((function(t,n,a){return t[n]=e[r[a]],t}),{});return n},y=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return null;var t=Object.entries(e).reduce((function(e,t){var n,a,u=(0,f.Z)(t,2),c=u[0],o=u[1];return Array.isArray(o)?(a="",o.forEach((function(e){n=r?encodeURIComponent(e):e,a+="".concat(c,"=").concat(n,"&")})),a.slice(0,-1)):(n=r?encodeURIComponent(o):o,a="".concat(c,"=").concat(n)),"".concat(e,"&").concat(a)}),"");return t.substr(1)},m=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Object.assign({method:e.method||"GET",headers:e.headers},r),n=w(e.headers),a=n["content-type"]||"";if("string"===typeof e.data)t.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){for(var u=new URLSearchParams,c=0,o=Object.entries(e.data||{});c<o.length;c++){var s=(0,f.Z)(o[c],2),i=s[0],p=s[1];u.set(i,p)}t.body=u.toString()}else if(a.includes("multipart/form-data")){var d=new FormData;if(e.data instanceof FormData)e.data.forEach((function(e,r){d.append(r,e)}));else for(var l=0,h=Object.keys(e.data);l<h.length;l++){var v=h[l];d.append(v,e.data[v])}t.body=d;var b=new Headers(t.headers);b.delete("content-type"),t.headers=b}else(a.includes("application/json")||"object"===typeof e.data)&&(t.body=JSON.stringify(e.data));return t},x=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){var t,n,u,c,o,s,i,p,f,l,h;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m(r,r.webFetchExtra),n=y(r.params,r.shouldEncodeUrlParams),u=n?"".concat(r.url,"?").concat(n):r.url,e.next=5,fetch(u,t);case 5:c=e.sent,o=c.headers.get("content-type")||"",s=c.ok?r:{},i=s.responseType,p=void 0===i?"text":i,o.includes("application/json")&&(p="json"),e.t0=p,e.next="arraybuffer"===e.t0||"blob"===e.t0?12:"json"===e.t0?19:("document"===e.t0||e.t0,23);break;case 12:return e.next=14,c.blob();case 14:return l=e.sent,e.next=17,d(l);case 17:return f=e.sent,e.abrupt("break",26);case 19:return e.next=21,c.json();case 21:return f=e.sent,e.abrupt("break",26);case 23:return e.next=25,c.text();case 25:f=e.sent;case 26:return h={},c.headers.forEach((function(e,r){h[r]=e})),e.abrupt("return",{data:f,headers:h,status:c.status,url:c.url});case 29:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),g=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(Object.assign(Object.assign({},r),{method:"GET"})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),O=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(Object.assign(Object.assign({},r),{method:"POST"})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),j=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(Object.assign(Object.assign({},r),{method:"PUT"})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),C=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(Object.assign(Object.assign({},r),{method:"PATCH"})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),E=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(Object.assign(Object.assign({},r),{method:"DELETE"})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),U=function(e){(0,s.Z)(t,e);var r=(0,i.Z)(t);function t(){var e;return(0,o.Z)(this,t),(e=r.call(this)).request=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.get=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.post=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.put=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.patch=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.del=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.getCookiesMap=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){var t,u,c,o,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=b(),u={},c=(0,n.Z)(t);try{for(c.s();!(o=c.n()).done;)s=o.value,u[s.key]=s.value}catch(r){c.e(r)}finally{c.f()}return e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.getCookies=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.url,t=b(),e.abrupt("return",{cookies:t});case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.setCookie=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){var t,n,u,c,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.key,n=r.value,u=r.expires,c=void 0===u?"":u,o=r.path,v(t,n,{expires:c,path:void 0===o?"":o});case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.getCookie=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(r.key));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.deleteCookie=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(t=r.key,void(document.cookie="".concat(t,"=; Max-Age=0"))));case 1:case"end":return e.stop()}var t}),e)})));return function(r){return e.apply(this,arguments)}}(),e.clearCookies=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k());case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.clearAllCookies=(0,u.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k());case 1:case"end":return e.stop()}}),e)}))),e.uploadFile=function(){var r=(0,u.Z)((0,a.Z)().mark((function r(t){var n,u;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=new FormData).append(t.name,t.blob||"undefined"),u=Object.assign(Object.assign({},t),{body:n,method:"POST"}),r.abrupt("return",e.post(u));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),e.downloadFile=function(){var r=(0,u.Z)((0,a.Z)().mark((function r(t){var n,u,c,o,s,i,p,f,d,l,h,v,b,Z,k,w,y;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=m(t,t.webFetchExtra),r.next=3,fetch(t.url,n);case 3:if(u=r.sent,null===t||void 0===t?void 0:t.progress){r.next=10;break}return r.next=7,u.blob();case 7:c=r.sent,r.next=46;break;case 10:if(null===u||void 0===u?void 0:u.body){r.next=14;break}c=new Blob,r.next=46;break;case 14:o=u.body.getReader(),s=0,i=[],p=u.headers.get("content-type"),f=parseInt(u.headers.get("content-length")||"0",10);case 19:return r.next=22,o.read();case 22:if(d=r.sent,l=d.done,h=d.value,!l){r.next=27;break}return r.abrupt("break",33);case 27:i.push(h),s+=(null===h||void 0===h?void 0:h.length)||0,v={type:"DOWNLOAD",url:t.url,bytes:s,contentLength:f},e.notifyListeners("progress",v),r.next=19;break;case 33:b=new Uint8Array(s),Z=0,k=0,w=i;case 36:if(!(k<w.length)){r.next=45;break}if("undefined"!==typeof(y=w[k])){r.next=40;break}return r.abrupt("continue",42);case 40:b.set(y,Z),Z+=y.length;case 42:k++,r.next=36;break;case 45:c=new Blob([b.buffer],{type:p||void 0});case 46:return r.abrupt("return",{blob:c});case 47:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),e}return(0,c.Z)(t)}(p.Uw)}}]);
//# sourceMappingURL=519.37add559.chunk.js.map